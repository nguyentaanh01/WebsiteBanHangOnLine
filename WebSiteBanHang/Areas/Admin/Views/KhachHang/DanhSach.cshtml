@model IEnumerable<WebSiteBanHang.Models.KhachHang>

@{
    ViewBag.Title = "Danh sách khách hàng";
    Layout = "~/Areas/Admin/Views/Shared/Layout-admin.cshtml";
    int i = 0;
}

<div class="row" style="padding:15px; font-size:18px">
    <div class="col-md-12">
        <h3>
            <span style="color: #438EB9">Danh Sách Khách hàng</span>
            <!--<a class="btn btn-sm btn-info pull-right" href="/Admin/Home/ThemMoi">Thêm mới</a>-->
            <!-- Button to Open the Modal -->
            <button type="button" class="btn btn-primary btn-sm pull-right" onclick="LoadForm()">
                Thêm mới
            </button>
        </h3>
    </div>

    <div class="col-md-12" style="margin-bottom:10px">
        <form class="form-group">
            <input style="width: 30%" type="text" name="tenKhachHang" value="@ViewBag.tenKhachHang" class="form-control pull-left" placeholder="nhập tên khách hàng" />
            <button class="btn btn-sm btn-info pull-left">Tìm kiếm</button>
        </form>
    </div>

    <div class="col-md-12">
        <table class="table table-bordered table-hover">
            <tr>
                <th style="width:50px">
                    STT
                </th>
                <th>
                    Tên Khách Hàng
                </th>
                <th>
                    Địa Chỉ
                </th>
                <th>
                    Số Điện Thoại
                </th>
                <th>
                    Mã Giảm Giá
                </th>
                <th>
                    Gmail
                </th>
                <th style="width:100px"></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @(++i)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TenKhachhang)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DiaChi)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.SoDienThoai)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.MaGiamGia)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Gmail)
                    </td>
                    <td>
                        <a href="/Admin/KhachHang/CapNhat?idKhachHang=@item.IDKhachHang"><i class="fa-solid fa-pen-to-square"></i></a>
                        <a href="#" onclick="if (confirm('Ban Co Muon Xoa Khong') == true) { location.href = '/Admin/KhachHang/Xoa?idKhachHang=@item.IDKhachHang'}" style="color:red; margin-left:5px"><i class="fa-solid fa-delete-left"></i></a>
                    </td>
                </tr>
            }

        </table>
    </div>
</div>

<div id="formBox">

</div>
@section script{
    <script>
        function LoadForm() {
            $("#formBox").load("/Admin/KhachHang/ThemMoi", function () {
                $("#formThemMoiKhachHang").modal("show");
            })
        }
    </script>
}



